{% extends 'AppBundle::layout.html.twig' %}

{% block content %}
    <div class="title text-uppercase"><div>КАРТА МЕДИЦИНСКИХ СОБЫТИЙ</div></div>
    <br />
    <div id="map" style="width: 100%; height: 500px"></div>
{% endblock %}

{% block javascript %}
    {{ parent() }}
    <script src="//api-maps.yandex.ru/2.1/?lang=ru-RU" type="text/javascript"></script>
    <script>
        ymaps.ready(init);

        function init () {
            var myMap = new ymaps.Map('map', {
                        center: [61.698653, 99.505405],
                        zoom: 3
                    }, {
//                        searchControlProvider: 'yandex#search'
                    }),
                    objectManager = new ymaps.ObjectManager({
                        // Чтобы метки начали кластеризоваться, выставляем опцию.
                        clusterize: true,
                        // ObjectManager принимает те же опции, что и кластеризатор.
                        gridSize: 32
                    });

            // Чтобы задать опции одиночным объектам и кластерам,
            // обратимся к дочерним коллекциям ObjectManager.
            objectManager.objects.options.set('preset', 'islands#redDotIcon');
            objectManager.clusters.options.set('preset', 'islands#redClusterIcons');
            myMap.geoObjects.add(objectManager);

//            $.ajax({
//                url: "data.json"
//            }).done(function(data) {
//                objectManager.add(data);
//            });

        }
    </script>
{% endblock %}

